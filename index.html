<!DOCTYPE html>
<html>
<head>
	<title>Multiplayer Rock Paper Scissors</title>
	<!-- Latest compiled and minified CSS & JS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.2.1.js"></script>
	<script src="https://www.gstatic.com/firebasejs/4.1.2/firebase.js"></script>
	<script>
	  // Initialize Firebase
	  var config = {
	    apiKey: "AIzaSyAperoetWA6p0dCh4i3bw378HG5-El52Xk",
	    authDomain: "multiplayer-rps-fe61d.firebaseapp.com",
	    databaseURL: "https://multiplayer-rps-fe61d.firebaseio.com",
	    projectId: "multiplayer-rps-fe61d",
	    storageBucket: "",
	    messagingSenderId: "482976917910"
	  };
	  firebase.initializeApp(config);
	  var database = firebase.database();
	</script>
</head>
<body>
	<div class='container'>
		<div class='jumbotron text-center'>
			<h1 class=''>Rock Paper AND Scissors</h1>
			<h3 id='player'>Hello Player Name, you're player #</h3>
		</div>
		<div class='panel panel-default text-center'>
			<div class='panel-heading'>
				<h4>Game center</h4>
			</div>
			<div class='panel-body'>
				<div class="col-lg-4" id='rps'>
					<p id="rock">Rock</p>
					<p id="paper">Paper</p>
					<p id="scissors">Scissors</p>
				</div>
				<div class="col-lg-4">
					Results
				</div>
				<div class="col-lg-4">
					<p id='rock2'>Rock</p>
					<p id='paper2'>Paper</p>
					<p id='scissors2'>Scissors</p>
				</div>
			</div>
		</div>
		<div class='panel panel-default text-center'>
			<div class='panel-heading'>
				<h4>Score</h4>
			</div>
			<div class='panel-body'>
				<div>
					Display wins of who's screen you're on
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		//declare vars
		var name1 = "Max";
		var name2 = "Shaina";
		var choice1 = 0;
		var choice2 = 0;
		var wins1 = 0;
		var wins2 = 0;


		// var name = prompt("what's your name");
	 //    database.ref().on("value", function(snapshot) {
	 //    	//log it
	 //    	console.log(snapshot.child(1).val());
	 //    	//write it
	 //    	// $("#click-value").html(snapshot.val().clickCount);
	 //    	//make the counter equal to the database at first
	 //    	// clickCounter = snapshot.val().clickCount;
	 //    	//on error log it.
	 //    }, function(errorObject) {
	 //    	console.log("The read failed: " + errorObject.code);
	 //    });
	 //    console.log(database.child(1).val());

	 		// database.ref().set({
		// 	1: {
		// 		name: '',
		// 		choice: '',
		// 		wins: 0,
		// 		losses: 0,
		// 	},
		// 	2: {
		// 		name: '',
		// 		choice: '',
		// 		wins: 0,
		// 		losses: 0,
		// 	},
		// })



	    $('#rock').on('click', function(event) {
	    	choice1 = 'rock'
	    	testing();
	    })
	   	$('#paper').on('click', function(event) {
	    	choice1 = 'paper'
	    	testing();
	    })
	    $('#scissors').on('click', function(event) {
	    	choice1 = 'scissors'
	    	testing();
	    })
	    $('#rock2').on('click', function(event) {
	    	choice2 = 'rock'
	    	testing();
	    })
	    $('#paper2').on('click', function(event) {
	    	choice2 = 'paper'
	    	testing();
	    })
	    $('#scissors2').on('click', function(event) {
	    	choice2 = 'scissors'
	    	testing();
	    })

	    var clearChoice = function(){
	    	choice2 = 0;
	    	choice1 = 0;
	    }

	    var paper = function() {
			if (choice2 === "rock"){
							wins1++;
							console.log('wins1' + wins1)}
			else if (choice2 === "scissors"){
							wins2++;
							console.log(wins2)}
			else
				console.log('tie');
		}
		var rock = function() {
			if (choice2 === "paper"){
							wins2++;
							console.log(wins2)}
			else if (choice2 === "scissors"){
							wins1++;
							console.log('wins1' + wins1)}
			else
				console.log('tie');
		}
		var scissors = function() {
			if (choice2 === "rock"){
							wins2++;
							console.log(wins2)}
			else if (choice2 === "paper"){
							wins1++;
							console.log('wins1' + wins1)}
			else
				console.log('tie');
		}

	    var testing = function(){
	    	if (choice1 && choice2){
		    	if (choice1 === 'rock'){
		    		rock();
		    		clearChoice();
		    	}
		    	else if (choice1 === 'paper'){
		    		paper();
		    		clearChoice();
		    	}
		    	else {
		    		scissors();
		    		clearChoice();
		    	}
	    	};
	    };


		//enter name
			//if player 2 name exists clear both 1 and 2
			//if name for player 1 exisits exists become player 2
			//log name in respective object
				//display page that says waiting for opponent

		//game
			//click rock paper or scissors
				//log in respective object
				//compare to other choice
					//if exists select win or loss
					//if doesn't exist let hang till other player logs



	//Legacy database for reference
		// database.ref().on("child_added", function(snapshot) {
		// 	var now = moment().format();
		// 	var convertedDate = moment(snapshot.val().startDate).format();
		// 	var diff = moment(now).diff(convertedDate,'months')
		// 	var bill = diff*snapshot.val().rate
		// 	$('#trash').append('<tr><td>'+snapshot.val().name+'</td><td>'+snapshot.val().role+'</td><td>'+snapshot.val().startDate+'</td><td>'+ diff +'</td><td>'+snapshot.val().rate+'</td><td>'+ bill +'</td></tr>')
		// });

		// $("#submit").on("click", function(event){
		//     event.preventDefault();
			
		// });


	// Legacy rock paper scissors game
		// var user = 0;
		// var comp = "";
		// var winner = 0;
		// var loser = 0;
		// var tie = 0;

		// function paperClick() {
		// 	var test = getRandomArbitrary();
		// 	if (test === "rock") {
		// 		winner++;
		// 		var node = document.getElementById('score');
		// 		node.innerHTML = ("<p>wins: " + winner + "</p>" + "<p>losses: " + loser + "</p>" + "<p>ties: " + tie + "</p>");
		// 	}
		// 	else if (test === "scissors") {
		// 		loser++;
		// 		var node = document.getElementById('score');
		// 		node.innerHTML = ("<p>wins: " + winner + "</p>" + "<p>losses: " + loser + "</p>" + "<p>ties: " + tie + "</p>");
		// 		}
		// 	else {
		// 		tie++;
		// 		var node = document.getElementById('score');
		// 		node.innerHTML = ("<p>wins: " + winner + "</p>" + "<p>losses: " + loser + "</p>" + "<p>ties: " + tie + "</p>");
		// 	}
		// }

		// function getRandomArbitrary() {
		//   var number = Math.floor(Math.random() * (3 - 0)) + 0;
		//   if (number==0) {
		// 	return comp = "rock";
		//   }
		//   else if (number==1){
		// 	return comp = "scissors";
		//   }
		//   else {
		// 	return comp = "paper";
		//   }
		// }

		// function rockClick() {
		//   var test = getRandomArbitrary();
		//   if (test === "scissors") {
		// 	  winner++;
		// 	  var node = document.getElementById('score');
		// 	  node.innerHTML = ("<p>wins: " + winner + "</p>" + "<p>losses: " + loser + "</p>" + "<p>ties: " + tie + "</p>");
		// 	}
		//   else if (test === "paper") {
		// 	  loser++;
		// 	  var node = document.getElementById('score');
		// 	  node.innerHTML = ("<p>wins: " + winner + "</p>" + "<p>losses: " + loser + "</p>" + "<p>ties: " + tie + "</p>");
		// 	}
		//   else {
		// 	  tie++;
		// 	  var node = document.getElementById('score');
		// 	  node.innerHTML = ("<p>wins: " + winner + "</p>" + "<p>losses: " + loser + "</p>" + "<p>ties: " + tie + "</p>");
		// 	}
		// }

		// function scissorsClick() {
		// 	var test = getRandomArbitrary();
		// 	if (test === "paper") {
		// 		winner++;
		// 		var node = document.getElementById('score');
		// 		node.innerHTML = ("<p>wins: " + winner + "</p>" + "<p>losses: " + loser + "</p>" + "<p>ties: " + tie + "</p>");
		// 		}
		// 	else if (test === "rock") {
		// 		loser++;
		// 		var node = document.getElementById('score');
		// 		node.innerHTML = ("<p>wins: " + winner + "</p>" + "<p>losses: " + loser + "</p>" + "<p>ties: " + tie + "</p>"); 
		// 		}
		// 	else {
		// 		tie++;
		// 		var node = document.getElementById('score');
		// 		node.innerHTML = ("<p>wins: " + winner + "</p>" + "<p>losses: " + loser + "</p>" + "<p>ties: " + tie + "</p>");
		// 		}
		// 	}   

		// var node = document.getElementById('score');
		// node.innerHTML = ("<p>wins: " + winner + "</p>" + "<p>losses: " + loser + "</p>" + "<p>ties: " + tie + "</p>");    
	</script>

</body>
</html>